---
import { Card as ShadcnCard } from './ui/card'

const {
  as: Tag = 'a',
  class: className,
  href,
  heading,
  subheading,
  imagePath,
  altText,
  repo,
  live,
} = Astro.props
---
<Tag href={href ?? undefined} class={className ?? ''} style="text-decoration: none;">
  <ShadcnCard
    class={`h-full flex flex-col overflow-hidden rounded-2xl shadow-lg transition duration-150 ease-in-out ${href ? 'cursor-pointer hover:border-primary' : ''}`}
  >
    <!-- image wrapper: fixed height so all cards show same size -->
    <div class="h-44 md:h-48 w-full overflow-hidden bg-gray-800">
      <img
        src={imagePath}
        alt={altText ?? heading}
        class="h-full w-full object-cover"
        loading="eager"
      />
    </div>

    <!-- content area -->
    <div class="flex grow flex-col justify-between px-5 py-4">
      <div>
        <h3 class="text-lg font-medium leading-tight">{heading}</h3>
        {subheading && <p class="text-sm text-muted-foreground mt-1">{subheading}</p>}
      </div>

      <div class="mt-4 flex gap-3 items-center">
        {repo &&
          <a
            class="text-sm font-medium underline hover:text-primary"
            href={repo}
            target="_blank"
            rel="noopener noreferrer"
            on:click={(e) => e.stopPropagation()}
          >
            GitHub
          </a>
        }
        {live &&
          <a
            class="text-sm font-medium underline hover:text-primary"
            href={live}
            target="_blank"
            rel="noopener noreferrer"
            on:click={(e) => e.stopPropagation()}
          >
            Live
          </a>
        }
      </div>
    </div>
  </ShadcnCard>
</Tag>
